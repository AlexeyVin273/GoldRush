!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./js/main.js")}({"./js/main.js":
/*!********************!*\
  !*** ./js/main.js ***!
  \********************/
/*! no exports provided */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./utils/ios-vh-fix */"./js/utils/ios-vh-fix.js"),s=n(/*! ./modules/playground */"./js/modules/playground.js");window.addEventListener("DOMContentLoaded",(function(){Object(i.iosVhFix)(),window.addEventListener("load",(function(){new s.Playground(document.querySelector(".playground")).init()}))}))},"./js/modules/bets.js":
/*!****************************!*\
  !*** ./js/modules/bets.js ***!
  \****************************/
/*! exports provided: Bets */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,(o=s.key,r=void 0,r=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!==i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(r)?r:String(r)),s)}var o,r}n.r(e),n.d(e,"Bets",(function(){return o}));var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.init(n)}var e,n,i;return e=t,(n=[{key:"init",value:function(t){this.parent&&(this.betsEl=this.parent.querySelector(".bets"),this.minusBtn=this.betsEl.querySelector(".bets__minus"),this.plusBtn=this.betsEl.querySelector(".bets__plus"),this.value=this.betsEl.querySelector(".bets__value"),this.valueInput=this.betsEl.querySelector(".bets__input"),this.setMaxValue(t.maxValue||5e4),this.onPlusBtnMouseDown=this.onPlusBtnMouseDown.bind(this),this.onPlusBtnMouseUp=this.onPlusBtnMouseUp.bind(this),this.onMinusBtnMouseDown=this.onMinusBtnMouseDown.bind(this),this.onMinusBtnMouseUp=this.onMinusBtnMouseUp.bind(this),this.onValueKeyDown=this.onValueKeyDown.bind(this),this.plusBtn.addEventListener("mousedown",this.onPlusBtnMouseDown),this.plusBtn.addEventListener("mouseup",this.onPlusBtnMouseUp),this.minusBtn.addEventListener("mousedown",this.onMinusBtnMouseDown),this.minusBtn.addEventListener("mouseup",this.onMinusBtnMouseUp),this.valueInput.addEventListener("keydown",this.onValueKeyDown))}},{key:"get",value:function(){return this.value.textContent}},{key:"set",value:function(t){this.isDisabled||(t>this.maxValue?t=this.maxValue:t<0&&(t=0),this.value.textContent=t)}},{key:"setMaxValue",value:function(t){this.maxValue=t>5e4?5e4:t,Number(this.value.textContent)>this.maxValue&&this.set(this.maxValue)}},{key:"increment",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.set(Number(t.value.textContent)+e)}},{key:"decrement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.set(Number(t.value.textContent)-e)}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"startCounter",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=200;n>15&&(s/=2*Math.floor(n/15),i+=Math.floor(n/(100*i))),this.deactivateCounter||setTimeout((function(){n++,t(e,i),e.startCounter(t,n,i)}),s)}},{key:"onPlusBtnMouseDown",value:function(){this.deactivateCounter=!1,this.startCounter(this.increment)}},{key:"onPlusBtnMouseUp",value:function(){this.deactivateCounter=!0}},{key:"onMinusBtnMouseDown",value:function(){this.deactivateCounter=!1,this.startCounter(this.decrement)}},{key:"onMinusBtnMouseUp",value:function(){this.deactivateCounter=!0}},{key:"getKeyCode",value:function(t){return t.charCodeAt(t.length-1)}},{key:"onValueKeyDown",value:function(t){var e=this;setTimeout((function(){var n=t.key,i=t.which||t.ketCode;if(0===i||229===i){var s=e.valueInput.value;n=s.substring(s.length-1)}var o=e.value.textContent;if(n>="0"&&n<="9"){var r=o+n;r<=e.maxValue&&e.set(Number(r))}"Backspace"===n&&e.set(Number(o.substr(0,o.length-1))),e.valueInput.value=""}),0)}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./js/modules/playground.js":
/*!**********************************!*\
  !*** ./js/modules/playground.js ***!
  \**********************************/
/*! exports provided: Playground */function(t,e,n){"use strict";n.r(e),n.d(e,"Playground",(function(){return a}));var i=n(/*! ./bets */"./js/modules/bets.js"),s=n(/*! ./slots */"./js/modules/slots.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(s=i.key,r=void 0,r=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(s,"string"),"symbol"===o(r)?r:String(r)),i)}var s,r}var u={stars:0,maxStars:0,coins:0,bets:0,isSpinMade:!1,isGameStarted:!1,startSpeed:100,maxSpeed:30,acceleration:5,winFrequency:3},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e}var e,n,o;return e=t,(n=[{key:"init",value:function(){if(this.container){this.starsNumber=this.container.querySelector(".playground__stars-number"),this.coinsNumber=this.container.querySelector(".playground__coins-number"),this.autoButton=this.container.querySelector(".playground__auto-btn"),this.spinButton=this.container.querySelector(".playground__spin-btn"),this.winWord=this.container.querySelector(".playground__winning-text"),this.wonSumm=this.container.querySelector(".playground__winning-summ");var t=this.starsNumber.textContent;u.stars=Number(t.substring(0,t.indexOf("/"))),u.maxStars=Number(t.substring(t.indexOf("/")+1)),u.coins=Number(this.coinsNumber.textContent),this.bets=new i.Bets(this.container,{maxValue:Number(u.coins)}),this.slots=new s.Slots(this.container),this.onAutoButtonClick=this.onAutoButtonClick.bind(this),this.onSpinButtonClick=this.onSpinButtonClick.bind(this),this.onSlotsFinished=this.onSlotsFinished.bind(this),this.autoButton.addEventListener("click",this.onAutoButtonClick),this.spinButton.addEventListener("click",this.onSpinButtonClick),this.container.addEventListener("onslotsfinished",this.onSlotsFinished),this.disableButton(this.autoButton)}}},{key:"writeOffCoins",value:function(t){u.coins-=t,u.coins=u.coins<0?0:u.coins,this.coinsNumber.textContent=u.coins}},{key:"accrueCoins",value:function(t){u.coins+=t,this.coinsNumber.textContent=u.coins}},{key:"onAutoButtonClick",value:function(){u.isGameStarted?this.slots.stop():(u.isGameStarted=!0,this.bets.disable(),this.disableButton(this.spinButton),this.slots.start(u))}},{key:"onSpinButtonClick",value:function(){if(!u.isGameStarted){u.isSpinMade||(u.stars+=100,u.stars=u.stars>u.maxStars?u.maxStars:u.stars,this.starsNumber.textContent="".concat(u.stars,"/").concat(u.maxStars));var t=this.bets.get();this.writeOffCoins(t-u.bets),u.bets=t,u.isSpinMade=!0,this.enableButton(this.autoButton),this.hideWinnings()}}},{key:"onSlotsFinished",value:function(t){var e=this;if(this.enableButton(this.spinButton),this.disableButton(this.autoButton),this.bets.enable(),t.detail.isWinner){var n=5*u.bets;this.showWinnings(n),this.accrueCoins(n),setTimeout((function(){e.hideWinnings()}),1e4)}u.bets=0,u.isGameStarted=!1,u.isSpinMade=!1}},{key:"disableButton",value:function(t){t.setAttribute("disabled","")}},{key:"enableButton",value:function(t){t.removeAttribute("disabled")}},{key:"hideWinnings",value:function(){this.winWord.classList.remove("is-shown"),this.wonSumm.classList.remove("is-shown"),this.wonSumm.textContent="0,000"}},{key:"showWinnings",value:function(t){this.winWord.classList.add("is-shown"),this.wonSumm.classList.add("is-shown"),this.wonSumm.textContent=t}}])&&r(e.prototype,n),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./js/modules/slots.js":
/*!*****************************!*\
  !*** ./js/modules/slots.js ***!
  \*****************************/
/*! exports provided: Slots */function(t,e,n){"use strict";n.r(e),n.d(e,"Slots",(function(){return c}));var i=n(/*! ../utils/observers */"./js/utils/observers.js");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,r=void 0,r=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(r)?r:String(r)),i)}var o,r}var a=[{src:"slot-01",width:"105",height:"65",size:"small"},{src:"slot-02",width:"105",height:"65",size:"small"},{src:"slot-03",width:"105",height:"65",size:"small"},{src:"slot-04",width:"112",height:"59",size:"big"},{src:"slot-05",width:"112",height:"59",size:"big"},{src:"slot-06",width:"112",height:"59",size:"big"},{src:"slot-07",width:"105",height:"68",size:"middle"},{src:"slot-08",width:"105",height:"68",size:"middle"},{src:"slot-09",width:"105",height:"68",size:"middle"}],l=a.length,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.init()}var e,n,s;return e=t,(n=[{key:"init",value:function(){var t=this;this.parent&&(this.slotsEl=this.parent.querySelector(".slot"),this.placeCellsIntoColumns=this.placeCellsIntoColumns.bind(this),this.cellMap=new Map,a.forEach((function(e,n){var i=document.createElement("div");i.classList.add("slot__cell"),i.classList.add("slot__cell--size-".concat(e.size));var s=document.createElement("picture"),o=document.createElement("source"),r=document.createElement("img");r.setAttribute("src","img/content/slot/".concat(e.src,".png")),r.setAttribute("srcset","img/content/slot/".concat(e.src,"@2x.png 2x")),r.setAttribute("width",e.width),r.setAttribute("height",e.height),r.setAttribute("alt",""),o.setAttribute("type","image/webp"),o.setAttribute("srcset","img/content/slot/".concat(e.src,".webp, img/content/slot/").concat(e.src,"@2x.webp 2x")),s.appendChild(o),s.appendChild(r),i.appendChild(s),t.cellMap.set(n,i)})),this.initColumns(),this.stopTrigger=!1,this.isGameStarted=!1,this.gameCounter=0)}},{key:"start",value:function(t){var e=this;this.isGameStarted||(++this.gameCounter>=t.winFrequency?(this.winAnyway=!0,this.winCell=Math.floor(Math.random()*(l-1)),this.gameCounter=0):this.winAnyway=!1,this.isGameStarted=!0,this.columns.forEach((function(n,i){setTimeout((function(){e.columnsStats[i].startSpeed=t.startSpeed,e.columnsStats[i].currentSpeed=t.startSpeed,e.columnsStats[i].acceleration=t.acceleration,e.columnsStats[i].deceleration=-1*Math.floor(1+t.acceleration*Math.random()),e.columnsStats[i].maxSpeed=Math.floor(t.maxSpeed+Math.random()*(t.startSpeed-t.maxSpeed)),e.columnsStats[i].isActive=!0,e.move(n,i)}),400*i)})))}},{key:"stop",value:function(){this.stopTrigger=!0}},{key:"initColumns",value:function(){var t=this;this.columns=Array.of.apply(Array,o(this.slotsEl.querySelectorAll(".slot__column"))),this.columnsStats=[{},{},{}],this.columns.forEach((function(e,n){for(var i=3*n,s=0;s<5;++s){var o=t.cellMap.get((s+i)%l).cloneNode(!0);e.appendChild(o)}t.columnsStats[n].topCellIndex=i})),this.placeCellsIntoColumns(),i.resizeObserver.subscribe(this.placeCellsIntoColumns)}},{key:"placeCellsIntoColumns",value:function(){var t=this;this.initCellSizes(),this.columns.forEach((function(e){e.querySelectorAll(".slot__cell").forEach((function(e,n){var i=n*(t.cellHeight+t.cellGap);e.setAttribute("style","transform: translate3d(0, ".concat(i,"px, 0);"))}))}))}},{key:"move",value:function(t,e){var n=this;this.moveCells(t,e),this.columnsStats[e].currentSpeed<=this.columnsStats[e].startSpeed?setTimeout((function(){var i=n.stopTrigger?n.columnsStats[e].deceleration:n.columnsStats[e].acceleration;n.columnsStats[e].currentSpeed=n.columnsStats[e].currentSpeed-i,n.columnsStats[e].currentSpeed<n.columnsStats[e].maxSpeed&&(n.columnsStats[e].currentSpeed=n.columnsStats[e].maxSpeed),n.move(t,e)}),this.columnsStats[e].currentSpeed):(this.columnsStats[e].isActive=!1,this.winAnyway&&setTimeout((function(){for(;n.columnsStats[e].topCellIndex!==n.winCell;)n.moveCells(t,e)}),this.columnsStats[e].currentSpeed),this.columnsStats.every((function(t){return!t.isActive}))&&setTimeout((function(){n.stopTrigger=!1,n.isGameStarted=!1;for(var t=!0,e=1;e<n.columnsStats.length;++e)if(n.columnsStats[e-1].topCellIndex!==n.columnsStats[e].topCellIndex){t=!1;break}n.parent.dispatchEvent(new CustomEvent("onslotsfinished",{detail:{isWinner:t}}))}),this.columnsStats[e].currentSpeed))}},{key:"moveCells",value:function(t,e){var n=this;t.querySelectorAll(".slot__cell").forEach((function(t,i){var s=i*(n.cellHeight+n.cellGap);t.setAttribute("style","transform: translate3d(0, ".concat(s,"px, 0); transition: transform ").concat(n.columnsStats[e].currentSpeed/500,"s ease;"))}));var i=t.lastElementChild;t.removeChild(i),i.remove(),this.columnsStats[e].topCellIndex=--this.columnsStats[e].topCellIndex<0?l+this.columnsStats[e].topCellIndex:this.columnsStats[e].topCellIndex;var s=this.cellMap.get(this.columnsStats[e].topCellIndex).cloneNode(!0);t.prepend(s),s.setAttribute("style","transform: translate3d(0, ".concat(-1*(this.cellHeight+this.cellGap),"px, 0);"))}},{key:"initCellSizes",value:function(){var t=this.slotsEl.querySelector(".slot__cell");this.cellHeight=t.getBoundingClientRect().height,this.cellGap=10}},{key:"getLastGameResult",value:function(){for(var t=!0,e=1;e<this.columnsStats.length;++e)if(this.columnsStats[e-1].topCellIndex!==this.columnsStats[e].topCellIndex){t=!1;break}return t}}])&&u(e.prototype,n),s&&u(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./js/utils/ios-checker.js":
/*!*********************************!*\
  !*** ./js/utils/ios-checker.js ***!
  \*********************************/
/*! exports provided: iosChecker */function(t,e,n){"use strict";n.r(e),n.d(e,"iosChecker",(function(){return i}));var i=function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}},"./js/utils/ios-vh-fix.js":
/*!********************************!*\
  !*** ./js/utils/ios-vh-fix.js ***!
  \********************************/
/*! exports provided: iosVhFix */function(t,e,n){"use strict";n.r(e),n.d(e,"iosVhFix",(function(){return s}));var i=n(/*! ./ios-checker */"./js/utils/ios-checker.js"),s=function(){if((!window.MSInputMethodContext||!document.documentMode)&&Object(i.iosChecker)()){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px")),window.addEventListener("resize",(function(){t=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(t,"px"))}))}}},"./js/utils/observers.js":
/*!*******************************!*\
  !*** ./js/utils/observers.js ***!
  \*******************************/
/*! exports provided: EventObserver, resizeObserver, clickObserver */function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,(o=s.key,r=void 0,r=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!==i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(r)?r:String(r)),s)}var o,r}n.r(e),n.d(e,"EventObserver",(function(){return o})),n.d(e,"resizeObserver",(function(){return r})),n.d(e,"clickObserver",(function(){return u}));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers=[],this.fire=this.fire.bind(this)}var e,n,i;return e=t,(n=[{key:"subscribe",value:function(t){this.observers.push(t)}},{key:"unsubscribe",value:function(t){this.observers=this.observers.filter((function(e){return e!==t}))}},{key:"fire",value:function(t){this.observers.forEach((function(e){return e(t)}))}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),r=new o;new ResizeObserver((function(){return setTimeout((function(){return r.fire("resize")}),10)})).observe(document.documentElement);var u=new o;window.addEventListener("click",u.fire)}});